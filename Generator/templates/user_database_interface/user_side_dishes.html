{% extends "base.html" %}
{% load static %}
{% block title %} Side dishes {% endblock %}

{% block content %}
    <style>
        body::after {
            content: "";
            background-image: url("{% static 'images/side_dish_bckgr.jpg' %}");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            opacity: 0.5;
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0;
            z-index: -1;
        }
    </style>
    {% url 'Generator:add_side_dish' as add_side_dish_url %}
    {% include "partials/section_header.html" with title="Your Side dish" create_text="Add Side dish" url_link=add_side_dish_url %}
    
    {% for side_dish in side_dishes %}
        <div id="side-dish-{{ side_dish.id }}" class="item">
            <div>{{ side_dish.name }}</div>
            <div class="item-actions">
             <button class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#delete-side-dish-{{ side_dish.id }}">Delete</button>

             {% include "modals/delete_side_dish.html" with id=side_dish.id %}
             <a href="{% url 'Generator:edit_side_dish' id=side_dish.id %}" class="btn btn-primary">Edit</a>
            </div>
        </div>
    {% endfor %}

     


    <ul class="pagination mt-4">
        {% if side_dishes.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page={{ side_dishes.previous_page_number }}">Previous</a>
            </li>
        {% endif %}
    
        {% for num in side_dishes.paginator.page_range %}
            {% if side_dishes.number == num %}
                <li class="page-item active">
                    <a class="page-link" href="#">{{ num }}</a>
                </li>
            {% elif num > side_dishes.number|add:'-3' and num < side_dishes.number|add:'3' %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                </li>
            {% endif %}
        {% endfor %}
    
        {% if side_dishes.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ side_dishes.next_page_number }}">Next</a>
            </li>
        {% endif %}
    </ul>
{% endblock %}